(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myCommunityCenter/myCommunityCenter"],{"13c0":function(e,t,a){"use strict";a.r(t);var n=a("6bdd"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t["default"]=o.a},"5aa6":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){return e.Router.navigateTo({route:{path:"/pages/fengxiangba_pl/fengxiangba_pl"}})},e.e1=function(t){return e.Router.navigateTo({route:{path:"/pages/fengxiangba_pl/fengxiangba_pl"}})})},o=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})},"6bdd":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{Router:this.$Router,current:1,shimgData:[{},{}],followDate:[{},{},{},{},{}],mainData:[],searchItem:{type:1,behavior:0}}},onLoad:function(){var e=this;e.paginate=e.$Utils.cloneForm(e.$AssetsConfig.paginate),e.$Utils.loadAll(["getMainData"],e)},onReachBottom:function(){console.log("onReachBottom");var t=this;!t.isLoadAll&&e.getStorageSync("loadAllArray")&&(t.paginate.currentPage++,t.getMainData())},methods:{change:function(t){var a=this;t!=a.current&&(a.current=t,1==a.current?(a.searchItem={type:1,behavior:0,user_no:e.getStorageSync("user_info").user_no},a.getMainData(!0)):2==a.current?(a.searchItem={type:1,behavior:1,user_no:e.getStorageSync("user_info").user_no},a.getMainData(!0)):3==a.current?a.getFollowData(!0):4==a.current?a.getCollectData(!0):5==a.current&&a.getReplyData(!0))},getMainData:function(t){var a=this;t&&(a.mainData=[],a.paginate={count:0,currentPage:1,is_page:!0,pagesize:5});var n={tokenFuncName:"getProjectToken"};n.paginate=a.$Utils.cloneForm(a.paginate),n.searchItem=a.$Utils.cloneForm(a.searchItem),n.searchItem.user_no=e.getStorageSync("user_info").user_no,n.getAfter={follow:{tableName:"Log",searchItem:{status:["in",[1,-1]],type:3,relation_table:"user",user_no:e.getStorageSync("user_info").user_no},middleKey:"user_no",key:"relation_user",condition:"in"},like:{tableName:"Log",searchItem:{status:1,type:1,relation_table:"message"},middleKey:"id",key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}},collect:{tableName:"Log",searchItem:{status:1,type:2,relation_table:"message"},middleKey:"id",key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}},reply:{tableName:"Message",searchItem:{status:1,type:2},middleKey:"id",key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}}};var o=function(e){e.info.data.length>0?a.mainData.push.apply(a.mainData,e.info.data):a.$Utils.showToast("没有更多了","none"),console.log("self.mainData",a.mainData),a.$Utils.finishFunc("getMainData")};a.$apis.messageGet(n,o)},getFollowData:function(t){var a=this;t&&(a.mainData=[],a.paginate={count:0,currentPage:1,is_page:!0,pagesize:5});var n={tokenFuncName:"getProjectToken"};n.paginate=a.$Utils.cloneForm(a.paginate),n.searchItem={type:3,user_no:e.getStorageSync("user_info").user_no},n.getAfter={user:{tableName:"User",searchItem:{status:1},middleKey:"relation_user",key:"user_no",condition:"in"}};var o=function(e){e.info.data.length>0?a.mainData.push.apply(a.mainData,e.info.data):a.$Utils.showToast("没有更多了","none"),console.log("self.mainData",a.mainData),a.$Utils.finishFunc("getMainData")};a.$apis.logGet(n,o)},updateFollowLog:function(e){var t=this,a=Date.parse(new Date);a=t.$Utils.timeto(a,"ymd-hms");var n={searchItem:{id:t.mainData[e].id},data:{status:-t.mainData[e].status},tokenFuncName:"getProjectToken"},o=function(e){t.canClick=!0,1e5==e.solely_code?(t.$Utils.showToast("取消成功","none",1e3),setTimeout(function(){t.getFollowData(!0)},1e3)):t.$Utils.showToast(e.msg,"none",1e3)};t.$apis.logUpdate(n,o)},getCollectData:function(t){var a=this;t&&(a.mainData=[],a.paginate={count:0,currentPage:1,is_page:!0,pagesize:5});var n={tokenFuncName:"getProjectToken"};n.paginate=a.$Utils.cloneForm(a.paginate),n.searchItem={type:2,user_no:e.getStorageSync("user_info").user_no},n.getAfter={message:{tableName:"Message",searchItem:{status:1},middleKey:"relation_id",key:"id",condition:"in"},like:{tableName:"Log",searchItem:{status:1,type:1,relation_table:"message"},middleKey:["message",0,"id"],key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}},collect:{tableName:"Log",searchItem:{status:1,type:2,relation_table:"message"},middleKey:["message",0,"id"],key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}},reply:{tableName:"Message",searchItem:{status:1,type:2},middleKey:["message",0,"id"],key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}}};var o=function(e){e.info.data.length>0?a.mainData.push.apply(a.mainData,e.info.data):a.$Utils.showToast("没有更多了","none"),console.log("self.mainData",a.mainData),a.$Utils.finishFunc("getMainData")};a.$apis.logGet(n,o)},getReplyData:function(t){var a=this;t&&(a.mainData=[],a.paginate={count:0,currentPage:1,is_page:!0,pagesize:5});var n={tokenFuncName:"getProjectToken"};n.paginate=a.$Utils.cloneForm(a.paginate),n.searchItem={type:2,user_no:e.getStorageSync("user_info").user_no},n.getAfter={message:{tableName:"Message",searchItem:{status:1},middleKey:"relation_id",key:"id",condition:"in"},like:{tableName:"Log",searchItem:{status:1,type:1,relation_table:"message"},middleKey:["message",0,"id"],key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}},collect:{tableName:"Log",searchItem:{status:1,type:2,relation_table:"message"},middleKey:["message",0,"id"],key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}},reply:{tableName:"Message",searchItem:{status:1,type:2},middleKey:["message",0,"id"],key:"relation_id",condition:"in",compute:{count:["count","count",{status:1}]}}};var o=function(e){e.info.data.length>0?a.mainData.push.apply(a.mainData,e.info.data):a.$Utils.showToast("没有更多了","none"),console.log("self.mainData",a.mainData),a.$Utils.finishFunc("getMainData")};a.$apis.messageGet(n,o)}}};t.default=a}).call(this,a("543d")["default"])},"86ae":function(e,t,a){"use strict";var n=a("f4f2"),o=a.n(n);o.a},"99e9":function(e,t,a){"use strict";(function(e){a("10a4"),a("921b");n(a("66fd"));var t=n(a("e418"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},e418:function(e,t,a){"use strict";a.r(t);var n=a("5aa6"),o=a("13c0");for(var i in o)"default"!==i&&function(e){a.d(t,e,function(){return o[e]})}(i);a("86ae");var s=a("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},f4f2:function(e,t,a){}},[["99e9","common/runtime","common/vendor"]]]);